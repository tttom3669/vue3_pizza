import{_ as y,d as p,m as v,r as h,o as l,c as i,a as t,F as _,f,i as b,g as r,e as c,t as o,b as n,w as u}from"./index-8f22bd37.js";import{c as m,l as w}from"./cartStore-48175b29.js";import"./swalMessage-1e206958.js";import"./sweetalert2.all-b60df101.js";const x={data(){return{}},computed:{...p(m,["cart"]),...p(w,["isLoading","loadingItem"])},methods:{...v(m,["getCart","updateCartItem","deleteCartItem","deleteCart"])},mounted(){this.getCart()}},C={class:"container"},k=t("div",{class:"row d-flex justify-content-center mt-3"},[t("div",{class:"col-12 col-md-6"},[t("div",{class:"col"},[t("div",{class:"position-relative m-4"},[t("div",{class:"progress",style:{height:"1px"}},[t("div",{class:"progress-bar",role:"progressbar",style:{width:"50%"},"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"})]),t("div",{class:"position-absolute top-0 start-0 text-white translate-middle btn btn-sm btn-primary rounded-pill",style:{width:"2rem",height:"2rem"}}," 1 "),t("div",{class:"position-absolute top-0 start-50 text-white translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem"}}," 2 "),t("div",{class:"position-absolute top-0 start-100 text-white translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem"}}," 3 ")])]),t("div",{class:"col d-flex justify-content-between text-primary fw-bold"},[t("span",{class:"ms-n1"},"確認購買"),t("span",{class:"text-secondary"},"填寫資料"),t("span",{class:"text-secondary me-n1"},"完成訂單")])])],-1),I={class:"mt-4 mb-5"},V={class:"table align-middle"},$=t("thead",{class:"table-primary"},[t("tr",null,[t("th"),t("th"),t("th",null,"品名"),t("th",{style:{width:"150px"}},"數量/單位"),t("th",{class:"text-center"},"單價"),t("th",{class:"text-center"},"小計")])],-1),L=["onClick","disabled"],q=t("i",{class:"fas fa-spinner fa-pulse"},null,-1),B=t("i",{class:"bi bi-trash3"},null,-1),j=[q,B],N=["src"],S={class:"input-group input-group-sm"},D={class:"input-group mb-3"},F=["disabled","onClick"],U=t("i",{class:"bi bi-dash"},null,-1),A=[U],E=["value"],M=["disabled","onClick"],T=t("i",{class:"bi bi-plus"},null,-1),z=[T],G={class:"text-center"},H={class:"text-end"},J={colspan:"2"},K=["disabled"],O={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},P=t("td",{colspan:"3",class:"text-end"},"總計",-1),Q={class:"text-end"},R=t("td",{colspan:"5",class:"text-end text-success"},"折扣價",-1),W={class:"text-end text-success"},X={class:"row flex-column justify-content-end flex-sm-row gy-3 mb-3"},Y={class:"col-2"},Z={type:"button",class:"btn btn-cusDarkBrown text-white w-100"},tt={class:"col-2"},et={type:"button",class:"btn btn btn-primary w-100 text-white"};function st(s,a,ot,nt,at,dt){const d=h("router-link"),g=h("VueLoading");return l(),i(_,null,[t("div",C,[k,t("div",I,[t("table",V,[$,t("tbody",null,[s.cart.carts?(l(!0),i(_,{key:0},f(s.cart.carts,e=>(l(),i("tr",{key:e.id},[t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:r(lt=>s.deleteCartItem(e),["prevent"]),disabled:s.loadingItem===e.id},j,8,L)]),t("td",null,[n(d,{to:`/product/${e.product.id}`},{default:u(()=>[t("img",{src:e.product.imageUrl,alt:"",class:"object-fit-cover",height:"70",width:"70"},null,8,N)]),_:2},1032,["to"])]),t("td",null,[n(d,{to:`/product/${e.product.id}`,class:"text-decoration-none text-cusDarkBrown"},{default:u(()=>[c(o(e.product.title),1)]),_:2},1032,["to"])]),t("td",null,[t("div",S,[t("div",D,[t("button",{type:"button",class:"input-group-text",id:"basic-addon1",disabled:e.qty===1||s.loadingItem===e.id,onClick:r(()=>s.updateCartItem(e,e.qty-1),["prevent"])},A,8,F),t("input",{type:"text",class:"form-control text-center",value:e.qty,readonly:""},null,8,E),t("button",{type:"button",class:"input-group-text",id:"basic-addon2",disabled:e.qty===99||s.loadingItem===e.id,onClick:r(()=>s.updateCartItem(e,e.qty+1),["prevent"])},z,8,M)])])]),t("td",G,o(e.product.price),1),t("td",H,o(e.total),1)]))),128)):b("",!0)]),t("tfoot",null,[t("tr",null,[t("td",J,[t("button",{class:"btn btn-outline-danger",type:"button",onClick:a[0]||(a[0]=r(()=>s.deleteCart(),["prevent"])),disabled:s.loadingItem==="deleteCart"},[s.loadingItem==="deleteCart"?(l(),i("span",O)):b("",!0),c(" 清空購物車 ")],8,K)]),P,t("td",Q,o(s.cart.total),1)]),t("tr",null,[R,t("td",W,o(s.cart.final_total),1)])])])]),t("div",X,[t("div",Y,[t("button",Z,[n(d,{class:"text-decoration-none text-white",to:"/products"},{default:u(()=>[c(" 返回購物 ")]),_:1})])]),t("div",tt,[t("button",et,[n(d,{class:"text-decoration-none text-white",to:"/order"},{default:u(()=>[c(" 確認送出 ")]),_:1})])])])]),n(g,{active:s.isLoading,"onUpdate:active":a[1]||(a[1]=e=>s.isLoading=e),loader:"dots"},null,8,["active"])],64)}const pt=y(x,[["render",st]]);export{pt as default};
