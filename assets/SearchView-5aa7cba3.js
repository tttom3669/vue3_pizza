import{_ as x,m as d,a as r,r as m,o as s,c as i,b as o,d as c,f as n,t as a,F as g,e as S,w as y,n as L,h as I}from"./index-138d938a.js";import{p as v,c as w}from"./collectionStore-daea836f.js";import{l as N,c as P}from"./cartStore-bb83da21.js";import{C as T}from"./CategorySidebar-7cfb6b56.js";import{s as V}from"./swalMessage-59933fbf.js";import"./sweetalert2.all-07293f25.js";const $={data(){return{tempProduct:{}}},props:["keywords"],components:{CategorySidebar:T},computed:{...d(v,["searchProducts"]),...d(w,["collectionList","collection"]),...d(N,["isLoading","loadingItem"])},methods:{...r(V,["swalShow"]),...r(w,["updateCollection","getCollection"]),...r(v,["getProducts","searchItem"]),...r(P,["addToCart"])},mounted(){this.getProducts(),this.getCollection(),this.searchItem(this.keywords)}},D={class:"bg_texture2",style:{"min-height":"600px"}},B={class:"container"},j={class:"row d-flex flex-row my-5"},M={class:"col-md-2 d-lg-block d-none"},z={class:"col-md-10"},F={key:0,class:"alert alert-primary",role:"alert"},O={class:"fw-bold"},U={class:"fw-bold"},A={key:1,class:"alert alert-primary",role:"alert"},E={class:"fw-bold"},G={class:"row d-flex justify-content-center"},q={class:"card h-100 py-2 shadow-sm overflow-hidden boxTranslate"},H=["src"],J={class:"card-body"},K={class:"card-title fw-bold"},Q={key:0,class:"h5 card-text text-primary fw-bold mb-3"},R={key:1,class:"d-flex flex-row justify-content-center align-items-baseline mb-3"},W={class:"h5 card-text text-primary fw-bold me-2"},X={class:"h6 card-text me-2 text-cusGray"},Y={class:"d-flex flex-row justify-content-center align-items-center"},Z=["onClick"],ee=["onMouseover"],oe=["onClick"],te=o("i",{class:"bi bi-suit-heart-fill",style:{color:"red"}},null,-1),se=[te],ie=["onClick","disabled"],ae={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function ne(t,l,h,le,re,ce){var u,f;const k=m("CategorySidebar"),_=m("router-link"),C=m("VueLoading");return s(),i(g,null,[o("div",D,[o("div",B,[o("div",j,[o("div",M,[c(k)]),o("div",z,[(u=t.searchProducts)!=null&&u.length?(s(),i("div",F,[n(" 搜尋 "),o("span",O,a(h.keywords),1),n(" ，總共有 "),o("span",U,a((f=t.searchProducts)==null?void 0:f.length),1),n(" 項搜尋結果 ")])):(s(),i("div",A,[n(" 搜尋"),o("span",E,a(h.keywords),1),n("，找不到任何東西。請使用其他的關鍵字再試一次。 ")])),o("div",G,[(s(!0),i(g,null,S(t.searchProducts,e=>{var p,b;return s(),i("div",{class:"col-md-4 mb-2 text-center",key:e.id},[o("div",q,[c(_,{to:`/product/${e.id}`},{default:y(()=>[o("img",{src:e.imageUrl,class:"card-img-top w-75 mx-auto object-fit-cover",alt:"pizza",height:"200"},null,8,H)]),_:2},1032,["to"]),o("div",J,[c(_,{to:`/product/${e.id}`,class:"text-decoration-none text-cusDarkBrown"},{default:y(()=>[o("h5",K,a(e.title),1)]),_:2},1032,["to"]),e.price===e.origin_price?(s(),i("p",Q," NT $"+a(e.price),1)):(s(),i("div",R,[o("div",W," NT$"+a(e.price),1),o("del",X,"NT$"+a(e.origin_price),1)])),o("div",Y,[((p=t.collectionList)==null?void 0:p.indexOf(e.id))===-1?(s(),i("div",{key:0,class:"me-4",onClick:()=>t.updateCollection(e)},[o("i",{class:L(["bi collection",{"bi-heart":((b=t.collectionList)==null?void 0:b.indexOf(e.id))===-1,"bi-suit-heart-fill":t.collection.hover==!0&&t.collection.itemID==e.id}]),onMouseover:()=>(t.collection.hover=!0,t.collection.itemID=e.id),onMouseout:l[0]||(l[0]=()=>(t.collection.hover=!1,t.collection.itemID=""))},null,42,ee)],8,Z)):(s(),i("div",{key:1,class:"me-4",onClick:()=>t.updateCollection(e)},se,8,oe)),o("button",{type:"button",class:"btn btn-cusDarkBrown border-0 text-nowrap px-3 px-md-4",onClick:()=>t.addToCart(e.id),disabled:t.loadingItem===e.id},[t.loadingItem===e.id?(s(),i("span",ae)):I("",!0),n(" 加入購物車 ")],8,ie)])])])])}),128))])])])])]),c(C,{active:t.isLoading,"onUpdate:active":l[1]||(l[1]=e=>t.isLoading=e),loader:"dots"},null,8,["active"])],64)}const pe=x($,[["render",ne]]);export{pe as default};
