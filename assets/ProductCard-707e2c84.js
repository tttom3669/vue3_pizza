import{R as b,a as r,m as u,_ as h,r as g,o as s,c as d,d as m,w as p,b as i,t as l,h as y,n as v,g as k,f as C}from"./index-9b93be38.js";import{c as w,l as _}from"./cartStore-89117445.js";import{c as f}from"./collectionStore-6274c1a4.js";import{p as x}from"./productsStore-7db05b24.js";const D={props:["product"],components:{RouterLink:b},methods:{...r(w,["addToCart"]),...r(f,["getCollection","updateCollection"]),...r(x,["getProduct"])},computed:{...u(f,["collectionList","collection"]),...u(_,["loadingItem"])},mounted(){this.getCollection()}},I={class:"card h-100 rounded-3 cardHover position-relative",style:{"margin-top":"120px"}},N=["src","alt"],T={class:"card-body",style:{"margin-top":"100px"}},B={class:"card-title fw-bold"},L={class:"card-subtitle text-cusBrown mb-1",style:{height:"24px"}},S={key:0,class:"h5 card-text text-primary fw-bold mb-3",style:{height:"32px"}},P={key:1,class:"d-flex flex-row justify-content-center align-items-baseline mb-3"},R={class:"h5 card-text text-primary fw-bold me-2"},V={class:"h6 card-text me-2 text-cusGray"},M={class:"d-flex flex-row justify-content-center align-items-center"},j=i("i",{class:"bi bi-suit-heart-fill",style:{color:"red"}},null,-1),O=[j],z=["disabled"],A={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function E(o,e,t,G,H,U){var c,a;const n=g("RouterLink");return s(),d("div",I,[m(n,{to:`/product/${t.product.id}`},{default:p(()=>[i("img",{src:t.product.imageUrl,class:"card-img-top w-75 position-absolute top-0 start-50 translate-middle img-fluid",alt:t.product.title},null,8,N)]),_:1},8,["to"]),i("div",T,[m(n,{to:`/product/${t.product.id}`,onClick:e[0]||(e[0]=y(()=>o.getProduct(t.product.id),["prevent"])),class:"text-decoration-none text-cusDarkBrown text-nowrap"},{default:p(()=>[i("h5",B,l(t.product.title),1)]),_:1},8,["to"]),i("p",L,l(t.product.enTitle),1),t.product.price===t.product.origin_price?(s(),d("div",S," NT $"+l(t.product.price),1)):(s(),d("div",P,[i("div",R," NT$"+l(t.product.price),1),i("del",V,"NT$"+l(t.product.origin_price),1)])),i("div",M,[((c=o.collectionList)==null?void 0:c.indexOf(t.product.id))===-1?(s(),d("div",{key:0,class:"me-4",onClick:e[3]||(e[3]=()=>{o.updateCollection(t.product),o.collection.hover=!1,o.collection.itemID=""})},[i("i",{class:v(["bi collection",{"bi-heart":((a=o.collectionList)==null?void 0:a.indexOf(t.product.id))===-1,"bi-suit-heart-fill":o.collection.hover==!0&&o.collection.itemID==t.product.id}]),onMouseover:e[1]||(e[1]=()=>(o.collection.hover=!0,o.collection.itemID=t.product.id)),onMouseout:e[2]||(e[2]=()=>(o.collection.hover=!1,o.collection.itemID=""))},null,34)])):(s(),d("div",{key:1,class:"me-4",onClick:e[4]||(e[4]=()=>o.updateCollection(t.product))},O)),i("button",{type:"button",class:"btn btn-cusDarkBrown border-0 text-nowrap w-100",onClick:e[5]||(e[5]=()=>o.addToCart(t.product.id)),disabled:o.loadingItem===t.product.id},[o.loadingItem===t.product.id?(s(),d("span",A)):k("",!0),C(" 加入購物車 ")],8,z)])])])}const Q=h(D,[["render",E]]);export{Q as P};
