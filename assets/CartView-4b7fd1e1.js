import{_ as p,b as d,m as h,r as _,o as l,c as i,a as t,F as r,y as m,E as b,A as a,t as o,d as v,e as g}from"./index-aa876d37.js";import{c,l as y}from"./cartStore-aad94b23.js";import"./swalMessage-b67e3106.js";import"./sweetalert2.all-69767743.js";const f={data(){return{}},computed:{...d(c,["cart"]),...d(y,["isLoading"])},methods:{...h(c,["getCart","updateCartItem","deleteCartItem","deleteCart"])},mounted(){this.getCart()}},x={class:"container"},C=t("div",{class:"row d-flex justify-content-center mt-3"},[t("div",{class:"col-12 col-md-6"},[t("div",{class:"col"},[t("div",{class:"position-relative m-4"},[t("div",{class:"progress",style:{height:"1px"}},[t("div",{class:"progress-bar",role:"progressbar",style:{width:"50%"},"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"})]),t("div",{class:"position-absolute top-0 start-0 text-white translate-middle btn btn-sm btn-primary rounded-pill",style:{width:"2rem",height:"2rem"}}," 1 "),t("div",{class:"position-absolute top-0 start-50 text-white translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem"}}," 2 "),t("div",{class:"position-absolute top-0 start-100 text-white translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem"}}," 3 ")])]),t("div",{class:"col d-flex justify-content-between text-primary fw-bold"},[t("span",{class:"ms-n1"},"確認購買"),t("span",{class:"text-secondary"},"填寫資料"),t("span",{class:"text-secondary me-n1"},"完成訂單")])])],-1),w={class:"mt-4 mb-5"},k={class:"table align-middle"},V=t("thead",{class:"table-primary"},[t("tr",null,[t("th"),t("th"),t("th",null,"品名"),t("th",{style:{width:"150px"}},"數量/單位"),t("th",{class:"text-center"},"單價"),t("th",{class:"text-center"},"小計")])],-1),L=["onClick"],I=t("i",{class:"fas fa-spinner fa-pulse"},null,-1),$=["src"],N={class:"input-group input-group-sm"},S={class:"input-group mb-3"},j=["onClick"],q=t("i",{class:"bi bi-dash"},null,-1),B=[q],A=["value"],E=["onClick"],F=t("i",{class:"bi bi-plus"},null,-1),U=[F],D={class:"text-center"},M={class:"text-end"},T={colspan:"2"},z=t("td",{colspan:"3",class:"text-end"},"總計",-1),G={class:"text-end"},H=t("td",{colspan:"5",class:"text-end text-success"},"折扣價",-1),J={class:"text-end text-success"};function K(e,n,O,P,Q,R){const u=_("VueLoading");return l(),i(r,null,[t("div",x,[C,t("div",w,[t("table",k,[V,t("tbody",null,[e.cart.carts?(l(!0),i(r,{key:0},m(e.cart.carts,s=>(l(),i("tr",{key:s.id},[t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:a(W=>e.deleteCartItem(s),["prevent"])},[I,g(" x ")],8,L)]),t("td",null,[t("img",{src:s.product.imageUrl,alt:"",class:"object-fit-cover",height:"70",width:"70"},null,8,$)]),t("td",null,o(s.product.title)+" ",1),t("td",null,[t("div",N,[t("div",S,[t("button",{type:"button",class:"input-group-text",id:"basic-addon1",onClick:a(()=>e.updateCartItem(s,s.qty-1),["prevent"])},B,8,j),t("input",{type:"text",class:"form-control text-center",value:s.qty},null,8,A),t("button",{type:"button",class:"input-group-text",id:"basic-addon2",onClick:a(()=>e.updateCartItem(s,s.qty+1),["prevent"])},U,8,E)])])]),t("td",D,o(s.product.price),1),t("td",M,o(s.total),1)]))),128)):b("",!0)]),t("tfoot",null,[t("tr",null,[t("td",T,[t("button",{class:"btn btn-outline-danger",type:"button",onClick:n[0]||(n[0]=a(()=>e.deleteCart(),["prevent"]))},"清空購物車")]),z,t("td",G,o(e.cart.total),1)]),t("tr",null,[H,t("td",J,o(e.cart.final_total),1)])])])])]),v(u,{active:e.isLoading,"onUpdate:active":n[1]||(n[1]=s=>e.isLoading=s)},null,8,["active"])],64)}const st=p(f,[["render",K]]);export{st as default};
