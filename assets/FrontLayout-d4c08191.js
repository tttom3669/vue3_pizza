import{C as R}from"./CategorySidebar-0308c33c.js";import{_ as f,r,o as n,c as a,a as t,b as o,w as l,m as w,d as j,e as d,t as i,n as z,F as m,f as y,g as h,h as b,i as I,v as L,j as V}from"./index-2ca285bd.js";import{c as B}from"./cartStore-102a87c4.js";import{p as U,c as T}from"./collectionStore-d056931e.js";import"./swalMessage-b356d383.js";import"./sweetalert2.all-b14fc833.js";const D="/vue3_pizza/assets/logo1-731d828d.png",q={components:{CategorySidebar:R}},M={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},O={class:"offcanvas-header"},A={id:"offcanvasRightLabel"},H=t("img",{src:D,alt:"logo"},null,-1),E=t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),Y={class:"offcanvas-body"};function G(s,g,_,x,$,k){const c=r("router-link"),p=r("CategorySidebar");return n(),a("div",M,[t("div",O,[t("h5",A,[o(c,{class:"navbar-brand",to:"/"},{default:l(()=>[H]),_:1})]),E]),t("div",Y,[o(p)])])}const J=f(q,[["render",G]]);const K={components:{NavOffcanvas:J},methods:{...w(B,["getCart","updateCartItem","deleteCartItem","addToCart"]),...w(U,["getProduct","getProducts"]),...w(T,["getCollection","updateCollection"])},computed:{...j(B,["cart"]),...j(T,["filterProducts"])},mounted(){this.getCart(),this.getCollection()}},Q={class:"navbar navbar-expand-lg navbar-light bg-white"},W={class:"container"},X=t("img",{src:D,alt:"logo"},null,-1),Z=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight"},[t("span",{class:"navbar-toggler-icon"})],-1),tt={class:"d-none d-lg-block justify-content-end",id:"navbarNavAltMarkup"},et={class:"navbar-nav"},st={class:"dropdown me-4"},ot={class:"nav-item nav-link position-relative",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},nt=t("i",{class:"bi bi-heart"},null,-1),at={class:"badge rounded-pill bg-danger position-absolute top-0 start-100 translate-middle"},ct=t("h6",{class:"dropdown-header"},"收藏清單",-1),it={class:"d-flex flex-column justify-content-center align-items-center"},lt={key:0,class:"table"},dt=["src"],rt={class:"p-2"},_t={class:"d-flex flex-column"},pt={class:"text-nowrap mb-1"},ut={class:"text-nowrap mb-1"},ht={class:"p-2"},vt=["onClick"],mt=t("i",{class:"bi bi-bag-plus"},null,-1),bt=[mt],ft={class:"p-2"},gt=["onClick"],wt=t("i",{class:"bi bi-trash3"},null,-1),yt=[wt],xt={key:1,class:"h6 text-nowrap p-3"},$t={class:"dropdown"},kt={class:"nav-item nav-link position-relative",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Ct=t("i",{class:"bi bi-bag"},null,-1),Nt={class:"badge rounded-pill bg-danger position-absolute top-0 start-100 translate-middle"},Ft=t("h6",{class:"dropdown-header"},"購物車",-1),Pt={class:"d-flex flex-column justify-content-center align-items-center"},St={key:0,class:"table"},jt=["src"],zt={class:"p-2"},Bt={class:"d-flex flex-column"},Tt={class:"text-nowrap mb-1"},Vt={class:"text-nowrap mb-1"},Dt=["onUpdate:modelValue","onChange"],Rt=["value"],It={class:"text-nowrap p-2"},Lt={class:"p-2"},Ut=["onClick"],qt=t("i",{class:"bi bi-trash3"},null,-1),Mt=[qt],Ot=t("td",{colspan:"2",class:"py-2 h5 text-cusDarkBrown fw-bold text-center"},"小計",-1),At={colspan:"2",class:"py-2 h5 text-cusDarkBrown fw-bold text-nowrap"},Ht={key:1,class:"h6 text-nowrap p-3"};function Et(s,g,_,x,$,k){var v,C,N,F,P,S;const c=r("router-link"),p=r("NavOffcanvas");return n(),a(m,null,[t("nav",Q,[t("div",W,[o(c,{class:"navbar-brand",to:"/"},{default:l(()=>[X]),_:1}),Z,t("div",tt,[t("div",et,[o(c,{class:"nav-item nav-link me-4 active",to:"/"},{default:l(()=>[d("首頁")]),_:1}),o(c,{class:"nav-item nav-link me-4",to:"/"},{default:l(()=>[d("最新消息")]),_:1}),o(c,{class:"nav-item nav-link me-4",to:"/products"},{default:l(()=>[d("美味菜單")]),_:1}),t("div",st,[t("div",ot,[nt,t("span",at,i((v=s.filterProducts)==null?void 0:v.length),1)]),t("div",{class:z(["dropdown-menu dropdown-menu-end overflow-auto m-0",{collectionHeight:((C=s.filterProducts)==null?void 0:C.length)>=4}])},[ct,t("div",it,[s.filterProducts?(n(),a("table",lt,[(n(!0),a(m,null,y(s.filterProducts,e=>(n(),a("tr",{class:"border",key:e.id,style:{width:"300px"}},[t("td",null,[t("img",{src:e.imageUrl,alt:"",class:"object-fit-cover",height:"70",width:"70"},null,8,dt)]),t("td",rt,[t("div",_t,[t("div",pt,[o(c,{to:`/product/${e.id}`,class:"text-decoration-none text-cusDarkBrown",onClick:h(()=>s.getProduct(e.id),["prevent"])},{default:l(()=>[d(i(e.title),1)]),_:2},1032,["to","onClick"])]),t("div",ut," NT$ "+i(e.price)+" / "+i(e.unit),1)])]),t("td",ht,[t("div",{type:"button",onClick:h(()=>s.addToCart(e.id),["prevent"])},bt,8,vt)]),t("td",ft,[t("div",{type:"button",onClick:h(()=>s.updateCollection(e),["prevent"])},yt,8,gt)])]))),128))])):b("",!0),((N=s.filterProducts)==null?void 0:N.length)==0?(n(),a("p",xt,"您的收藏清單目前是空的喔")):b("",!0)])],2)]),t("div",$t,[t("div",kt,[Ct,t("span",Nt,i((F=s.cart.carts)==null?void 0:F.length),1)]),t("div",{class:z(["dropdown-menu dropdown-menu-end overflow-auto m-0",{cartHeight:((P=s.cart.carts)==null?void 0:P.length)>=4}])},[Ft,t("div",Pt,[s.cart.carts?(n(),a("table",St,[(n(!0),a(m,null,y(s.cart.carts,e=>(n(),a("tr",{class:"border",key:e.id,style:{width:"300px"}},[t("td",null,[t("img",{src:e.product.imageUrl,alt:"",class:"object-fit-cover",height:"70",width:"70"},null,8,jt)]),t("td",zt,[t("div",Bt,[t("div",Tt,[o(c,{to:`/product/${e.product.id}`,class:"text-decoration-none text-cusDarkBrown",onClick:h(()=>s.getProduct(e.product.id),["prevent"])},{default:l(()=>[d(i(e.product.title),1)]),_:2},1032,["to","onClick"])]),t("div",Vt," NT$ "+i(e.product.price)+" / "+i(e.product.unit),1),I(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":u=>e.qty=u,onChange:()=>s.updateCartItem(e,e.qty)},[(n(),a(m,null,y(99,u=>t("option",{value:u,key:u+"num"},i(u),9,Rt)),64))],40,Dt),[[L,e.qty]])])]),t("td",It,"NT$ "+i(e.total),1),t("td",Lt,[t("div",{type:"button",onClick:h(()=>s.deleteCartItem(e),["prevent"])},Mt,8,Ut)])]))),128)),t("tr",null,[Ot,t("td",At,"NT$ "+i(s.cart.total),1)])])):b("",!0),o(c,{type:"button",class:"btn btn-primary text-white w-75",to:"/cart"},{default:l(()=>[d(" 結帳去 ")]),_:1}),((S=s.cart.carts)==null?void 0:S.length)==0?(n(),a("p",Ht,"您的購物車目前是空的喔")):b("",!0)])],2)])])])])]),o(p)],64)}const Yt=f(K,[["render",Et]]),Gt="/vue3_pizza/assets/logo2-8c9a8bf9.png";const Jt={},Kt={class:"footer py-5 py-md-2"},Qt={class:"container"},Wt=V('<div class="row d-flex justify-content-between border-bottom"><div class="col-md-6 text-center text-md-start"><img src="'+Gt+'" class="float-center" alt="logo"></div><div class="col-md-6"><div class="text-white text-center text-md-end p-3"><h5 class="text-primary">聯絡資訊</h5><p>YoPizza@mail.com</p><p>03-123-5678</p><p>桃園市隔壁區小陶路123號</p></div></div></div>',1),Xt={class:"row justify-content-between align-items-center flex-column flex-md-row g-1"},Zt={class:"col text-center text-md-start"},te={class:"py-3"},ee=V('<div class="col order-md-2 order-3"><p class="text-white text-center m-0"> 此專題僅供作品展示，非商業用途使用 </p></div><div class="col order-2"><div class="text-white text-center text-md-end mb-1"><i class="bi bi-facebook me-3"></i><i class="bi bi-instagram me-3"></i><i class="bi bi-github me-3"></i></div></div>',2);function se(s,g){const _=r("router-link");return n(),a("footer",Kt,[t("div",Qt,[Wt,t("div",Xt,[t("div",Zt,[t("div",te,[o(_,{class:"btn btn-sm btn-secondary me-3",to:"/"},{default:l(()=>[d("常見問題")]),_:1}),o(_,{class:"btn btn-sm btn-secondary",to:"/login"},{default:l(()=>[d(" 後台管理")]),_:1})])]),ee])])])}const oe=f(Jt,[["render",se]]),ne={data(){return{}},components:{FrontNavbar:Yt,FrontFooter:oe}},ae={class:"d-flex flex-column min-vh-100"},ce={class:"flex-grow-1",style:{"min-height":"600px"}};function ie(s,g,_,x,$,k){const c=r("FrontNavbar"),p=r("router-view"),v=r("FrontFooter");return n(),a("div",ae,[o(c),t("div",ce,[o(p)]),o(v)])}const he=f(ne,[["render",ie]]);export{he as default};
