import{_ as b,d as a,m as p,r as P,o as r,c,a as t,b as u,w as _,t as i,h as d,i as g,e as n}from"./index-69f4879b.js";import{p as y}from"./productsStore-667e8a41.js";import{c as m,l as f}from"./cartStore-5d381a02.js";import"./swalMessage-e272c67b.js";import"./sweetalert2.all-f2eed8da.js";const{VITE_APP_URL:v,VITE_APP_PATH:C}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/V2",VITE_APP_PATH:"tttom3669",BASE_URL:"/vue3_pizza/",MODE:"production",DEV:!1,PROD:!0},x={data(){return{tempProduct:{},qty:1}},computed:{...a(m,["cart"]),...a(f,["loadingItem"])},methods:{...p(m,["addToCart","updateCartItem"]),...p(y,["changeCategory"]),getProduct(){const{id:s}=this.$route.params;this.$http.get(`${v}/api/${C}/product/${s}`).then(o=>{this.tempProduct=o.data.product})},addToCart_Check(){let s=[];s=this.cart.carts.filter(o=>o.product_id===this.tempProduct.id),s===this.tempProduct.id?this.updateCartItem(s[0],this.qty):this.addToCart(this.tempProduct.id,this.qty)}},mounted(){this.getProduct()}},w={class:"container"},k={"aria-label":"breadcrumb"},T={class:"breadcrumb"},V={class:"breadcrumb-item"},I={class:"breadcrumb-item"},q={class:"breadcrumb-item","aria-current":"page"},A={class:"row mt-5 gx-5"},E={class:"col-lg-4"},B=["src","alt"],N={class:"col-lg-8 mb-2"},S={class:"fw-bold"},D={class:"badge bg-primary rounded-pill mb-3"},R={class:"fw-bold text-cusDarkBrown"},U={class:"text-cusBrown"},L=t("div",{class:"h6 fw-bold"},"建議售價：",-1),z={key:0,class:"h5"},H={key:1,class:"d-flex flex-row align-items-center mb-2"},M={class:"h5 text-cusBrown fw-bold me-2"},O={class:"h6 me-2 text-cusGray"},j={class:"w-50"},G={class:"input-group mb-3"},F=["disabled"],J=t("i",{class:"bi bi-dash"},null,-1),K=[J],Q=["value"],W=["disabled"],X=t("i",{class:"bi bi-plus"},null,-1),Y=[X],Z=["disabled"],$={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function tt(s,o,et,ot,e,h){const l=P("router-link");return r(),c("div",w,[t("nav",k,[t("ol",T,[t("li",V,[u(l,{to:"/",class:"text-decoration-none"},{default:_(()=>[n("首頁")]),_:1})]),t("li",I,[u(l,{to:"/products",onClick:o[0]||(o[0]=()=>s.changeCategory(`${e.tempProduct.productCategory}`)),class:"text-decoration-none"},{default:_(()=>[n(i(e.tempProduct.productCategory),1)]),_:1})]),t("li",q,i(e.tempProduct.title),1)])]),t("div",A,[t("div",E,[t("img",{src:e.tempProduct.imageUrl,alt:e.tempProduct.title,class:"w-100 object-fit-cover img-fluid"},null,8,B)]),t("div",N,[t("h3",S,i(e.tempProduct.title),1),t("span",D,i(e.tempProduct.category),1),t("p",R,i(e.tempProduct.content),1),t("p",U,i(e.tempProduct.description),1),L,e.tempProduct.price===e.tempProduct.origin_price?(r(),c("div",z,i(e.tempProduct.price)+" 元 ",1)):(r(),c("div",H,[t("div",M," NT$"+i(e.tempProduct.price),1),t("del",O,"NT$"+i(e.tempProduct.origin_price),1)])),t("div",j,[t("div",G,[t("button",{type:"button",class:"input-group-text",id:"basic-addon1",disabled:e.qty===1,onClick:o[1]||(o[1]=d(()=>e.qty-=1,["prevent"]))},K,8,F),t("input",{type:"text",class:"form-control text-center",readonly:"",value:e.qty},null,8,Q),t("button",{type:"button",class:"input-group-text",id:"basic-addon2",disabled:e.qty===99,onClick:o[2]||(o[2]=d(()=>e.qty+=1,["prevent"]))},Y,8,W)]),t("button",{type:"button",class:"btn btn-primary text-white",onClick:o[3]||(o[3]=d(()=>h.addToCart_Check(),["prevent"])),disabled:s.loadingItem===e.tempProduct.id},[s.loadingItem===e.tempProduct.id?(r(),c("span",$)):g("",!0),n(" 加入購物車 ")],8,Z)])])])])}const nt=b(x,[["render",tt]]);export{nt as default};
