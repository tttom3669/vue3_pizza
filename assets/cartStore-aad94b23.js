import{g as h,m as d,h as e}from"./index-aa876d37.js";import{s as n}from"./swalMessage-b67e3106.js";const p=h("loadingStore",{state:()=>({isLoading:!1})}),{VITE_APP_URL:o,VITE_APP_PATH:r}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/V2",VITE_APP_PATH:"tttom3669",BASE_URL:"/vue3_pizza/",MODE:"production",DEV:!1,PROD:!0},c=p(),w=h("cart",{state:()=>({cart:{}}),actions:{...d(n,["swalShow"]),getCart(){c.isLoading=!0,e.get(`${o}/api/${r}/cart`).then(t=>{this.cart=t.data.data,c.isLoading=!1}).catch(t=>{this.swalShow(`${t.response.data.message}`,"error")})},addToCart(t,a=1){const i={product_id:t,qty:a};c.isLoading=!0,e.post(`${o}/api/${r}/cart`,{data:i}).then(s=>{this.swalShow(`${s.data.message}`,"success","toast"),this.getCart()}).catch(s=>{this.swalShow(`${s.response.data.message}`,"error")})},updateCartItem(t,a){const i={product_id:t.product.id,qty:a};e.put(`${o}/api/${r}/cart/${t.id}`,{data:i}).then(s=>{this.swalShow(`${s.data.message}`,"success","toast"),this.getCart()}).catch(s=>{this.swalShow(`${s.response.data.message}`,"error")})},deleteCartItem(t){e.delete(`${o}/api/${r}/cart/${t.id}`).then(a=>{this.swalShow(`購物車${a.data.message}`,"success","toast"),this.getCart()}).catch(a=>{this.swalShow(`${a.response.data.message}`,"error")})},deleteCart(){e.delete(`${o}/api/${r}/carts`).then(()=>{this.swalShow("已清空購物車","success","toast"),this.getCart()}).catch(t=>{this.swalShow(`${t.response.data.message}`,"error")})}}});export{w as c,p as l};
