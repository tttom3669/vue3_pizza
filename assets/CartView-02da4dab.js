import{_ as B,R as I,m as g,a as $,r as l,o as n,c as d,b as t,d as s,w as c,F as f,e as L,h as u,g as w,f as _,t as i,k as V}from"./index-e3598f1f.js";import{c as y,l as N}from"./cartStore-457240e8.js";import{P as D}from"./ProgressBar-53d9f08e.js";import{F as j}from"./FrontHeading-8a751fd7.js";import"./swalMessage-01359cee.js";const F={data(){return{}},components:{ProgressBar:D,FrontHeading:j,RouterLink:I},computed:{...g(y,["cart"]),...g(N,["isLoading","loadingItem"])},methods:{...$(y,["getCart","updateCartItem","deleteCartItem","deleteCart"])},mounted(){this.getCart()}},q={class:"bg_texture3",style:{"min-height":"600px"}},S={class:"container"},P={key:0,class:"d-flex flex-column justify-content-center align-items-center",style:{"margin-top":"100px"}},R=t("div",{class:"text-center my-5 fw-bold text-cusBrown fs-4"},[t("i",{class:"bi bi-cart-x"}),_(" 您的購物車目前是空的喔 ")],-1),T={class:"w-100 text-center"},H=t("button",{type:"button",class:"btn btn-cusDarkBrown text-white w-md-25 w-50"}," 返回購物 ",-1),U={key:1,class:"mt-4 mb-5"},A=V('<div class="row fw-bold text-cusDarkBrown text-center border-bottom py-2" style="background-color:#ffe3ce;"><div class="col-2"></div><div class="col-md-4">商品明細</div><div class="col d-none d-md-block">數量/單位</div><div class="col d-none d-md-block">小計</div></div>',1),E={class:"col-2 col-md-1 order-3 order-md-1"},M=["onClick","disabled"],z=t("i",{class:"fas fa-spinner fa-pulse"},null,-1),G=t("i",{class:"bi bi-trash3"},null,-1),J=[z,G],K={class:"col-2 col-md-1 order-1 order-md-2"},O=["src","alt"],Q={class:"col-8 col-md-4 order-2 order-md-3"},W={class:"d-flex flex-column text-nowrap"},X={class:"col order-4 my-3"},Y={class:"input-group input-group-sm"},Z={class:"d-flex justify-content-center flex-nowrap"},tt=["disabled","onClick"],et=t("i",{class:"bi bi-dash"},null,-1),ot=[et],st=["value"],nt=["disabled","onClick"],dt=t("i",{class:"bi bi-plus"},null,-1),at=[dt],ct={class:"col text-end order-5"},it={class:"row bg-white py-2"},rt={class:"col"},lt=["disabled"],ut={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_t={class:"col-md-2 col text-end text-cusDarkBrown fw-bold fs-5"},pt={class:"d-flex justify-content-between"},bt=t("div",null,"總計",-1),ht={key:2,class:"row justify-content-end flex-row gy-3 mb-3"},mt={class:"col-md-2 col-6"},vt=t("button",{type:"button",class:"btn btn-cusDarkBrown text-white w-100"}," 返回購物 ",-1),gt={class:"col-md-2 col-6"},ft=t("button",{type:"button",class:"btn btn btn-primary w-100 text-white"}," 確認送出 ",-1);function wt(o,r,yt,kt,xt,Ct){var p,b,h,m,v;const k=l("ProgressBar"),x=l("FrontHeading"),a=l("RouterLink"),C=l("VueLoading");return n(),d(f,null,[t("div",q,[t("div",S,[s(k,{stage:1,class:"mt-3"}),s(x,{title:"購物車",class:"mt-3"}),((p=o.cart.carts)==null?void 0:p.length)===0?(n(),d("div",P,[R,t("div",T,[s(a,{class:"text-decoration-none text-white",to:"/products"},{default:c(()=>[H]),_:1})])])):(n(),d("div",U,[A,(n(!0),d(f,null,L(o.cart.carts,e=>(n(),d("div",{class:"row justify-content-center bg-white border-bottom align-items-center text-cusDarkBrown text-center py-2",key:e.id},[t("div",E,[t("div",{type:"button",class:"text-center clickBtn",onClick:u(Bt=>o.deleteCartItem(e),["prevent"]),disabled:o.loadingItem===e.id},J,8,M)]),t("div",K,[s(a,{to:`/product/${e.product.id}`},{default:c(()=>[t("img",{src:e.product.imageUrl,alt:e.product.title,class:"object-fit-cover",height:"70",width:"70"},null,8,O)]),_:2},1032,["to"])]),t("div",Q,[t("div",W,[s(a,{to:`/product/${e.product.id}`,class:"text-decoration-none text-cusDarkBrown text"},{default:c(()=>[_(i(e.product.title),1)]),_:2},1032,["to"]),t("div",null,"NT$ "+i(e.product.price)+" / "+i(e.product.unit),1)])]),t("div",X,[t("div",Y,[t("div",Z,[t("button",{type:"button",class:"btn btn-outline-primary",id:"basic-addon1",disabled:e.qty===1||o.loadingItem===e.id,onClick:u(()=>o.updateCartItem(e,e.qty-1),["prevent"])},ot,8,tt),t("input",{type:"number",class:"form-control text-center hide-arrows",value:e.qty,readonly:""},null,8,st),t("button",{type:"button",class:"btn btn-outline-primary",id:"basic-addon2",disabled:e.qty>=20||o.loadingItem===e.id,onClick:u(()=>o.updateCartItem(e,e.qty+1),["prevent"])},at,8,nt)])])]),t("div",ct,"NT$ "+i(e.total),1)]))),128)),t("div",it,[t("div",rt,[t("button",{class:"btn btn-outline-danger text-nowrap",type:"button",onClick:r[0]||(r[0]=u(()=>o.deleteCart(),["prevent"])),disabled:o.loadingItem==="deleteCart"||((h=(b=o.cart)==null?void 0:b.carts)==null?void 0:h.length)===0},[o.loadingItem==="deleteCart"?(n(),d("span",ut)):w("",!0),_(" 清空購物車 ")],8,lt)]),t("div",_t,[t("div",pt,[bt,t("div",null,"NT$ "+i(o.cart.total),1)])])])])),(v=(m=o.cart)==null?void 0:m.carts)!=null&&v.length?(n(),d("div",ht,[t("div",mt,[s(a,{class:"text-decoration-none text-white",to:"/products"},{default:c(()=>[vt]),_:1})]),t("div",gt,[s(a,{class:"text-decoration-none text-white",to:"/order"},{default:c(()=>[ft]),_:1})])])):w("",!0)])]),s(C,{active:o.isLoading,"onUpdate:active":r[1]||(r[1]=e=>o.isLoading=e),loader:"dots"},null,8,["active"])],64)}const Dt=B(F,[["render",wt]]);export{Dt as default};
