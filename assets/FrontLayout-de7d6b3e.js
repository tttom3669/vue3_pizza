import{R as P,m as k,a as w,O as G,_ as C,r as v,o,c as a,b as t,d as l,w as u,n as f,F as p,e as b,f as _,t as c,g as m,h as y,i as J,v as K,j as E,k as H,l as Q}from"./index-9b93be38.js";import{p as B}from"./productsStore-7db05b24.js";import{c as U,l as W}from"./cartStore-89117445.js";import{c as A}from"./collectionStore-6274c1a4.js";import"./swalMessage-9fc1a9a1.js";const Y="/vue3_pizza/assets/logo1-731d828d.png",X={data(){return{currentPage:"",myOffcanvas:""}},components:{RouterLink:P},computed:{...k(B,["productCategory","filterCategory"])},methods:{...w(B,["changeCategory"]),changePage(e=""){this.currentPage=e},closeOffcanvas(){this.myOffcanvas.hide()},changeCollapseStyle(e){document.getElementById(`${e}`).classList.add("collapse"),document.getElementById(`${e}`).classList.remove("show"),document.getElementById(`btn_${e}`).classList.add("collapsed")}},mounted(){this.myOffcanvas=new G(this.$refs.offcanvas)}},Z={class:"offcanvas offcanvas-end",tabindex:"-1",ref:"offcanvas",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},tt={class:"offcanvas-header"},et={id:"offcanvasRightLabel"},st=t("img",{src:Y,alt:"logo"},null,-1),ot=t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),at={class:"offcanvas-body"},nt={class:"accordion list-group sticky-top",style:{top:"16px"},id:"accordionFlushExample"},lt=t("span",{class:"accordion-header ms-1"},"最新消息",-1),ct=t("span",{class:"accordion-header ms-1"},"美味菜單",-1),it={class:"accordion-item"},dt=t("h2",{class:"accordion-header",id:"flush-headingMenu"},[t("button",{class:"accordion-button collapsed",id:"btn_flush-collapseMenu",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseMenu","aria-expanded":"false","aria-controls":"flush-collapseMenu"}," 商品類別 ")],-1),rt={id:"flush-collapseMenu",class:"accordion-collapse collapse","aria-labelledby":"flush-headingMenu"},ut={class:"accordion-body"},_t={class:"list-group list-group-flush"},ht=t("span",{class:"accordion-header ms-1"},"常見問題",-1);function pt(e,r,x,$,g,i){const n=v("RouterLink");return o(),a("div",Z,[t("div",tt,[t("h5",et,[l(n,{class:"navbar-brand",to:"/"},{default:u(()=>[st]),_:1})]),ot]),t("div",at,[t("div",nt,[t("div",{class:f(["list-group-item",{active:g.currentPage==="最新消息"}])},[l(n,{to:"/articles",class:"stretched-link",onClick:r[0]||(r[0]=()=>{i.changePage("最新消息"),i.closeOffcanvas()})}),lt],2),t("div",{class:f(["list-group-item",{active:e.filterCategory==="全部商品"&&g.currentPage==="美味菜單"}])},[l(n,{to:"/products",class:"stretched-link",onClick:r[1]||(r[1]=()=>{e.changeCategory("全部商品"),i.changePage("美味菜單"),i.closeOffcanvas()})}),ct],2),t("div",it,[dt,t("div",rt,[t("div",ut,[t("ul",_t,[(o(!0),a(p,null,b(e.productCategory.披薩,d=>(o(),a("li",{class:f(["list-group-item rounded-3",{active:d===e.filterCategory}]),key:d},[l(n,{class:"stretched-link",to:"/products",onClick:()=>{e.changeCategory(`${d}`),i.changeCollapseStyle("flush-collapseMenu"),i.closeOffcanvas()}},null,8,["onClick"]),_(" "+c(d),1)],2))),128)),(o(!0),a(p,null,b(e.productCategory.副食,d=>(o(),a("li",{class:f(["list-group-item rounded-3",{active:d===e.filterCategory}]),key:d},[l(n,{class:"stretched-link",to:"/products",onClick:()=>{e.changeCategory(`${d}`),i.changeCollapseStyle("flush-collapseMenu"),i.closeOffcanvas()}},null,8,["onClick"]),_(" "+c(d),1)],2))),128))])])])]),t("div",{class:f(["list-group-item",{active:g.currentPage==="常見問題"}])},[l(n,{to:"/question",class:"stretched-link",onClick:r[2]||(r[2]=()=>{i.changePage("常見問題"),i.closeOffcanvas()})}),ht],2)])])],512)}const vt=C(X,[["render",pt]]);const ft={components:{NavOffcanvas:vt,RouterLink:P},methods:{...w(U,["getCart","updateCartItem","deleteCartItem","addToCart"]),...w(B,["getProduct","changeCategory"]),...w(A,["getCollection","updateCollection"])},computed:{...k(W,["isLoading"]),...k(U,["cart"]),...k(A,["filterProducts"])},mounted(){this.getCart(),this.getCollection()}},gt={class:"navbar navbar-expand-lg navbar-light bg-white sticky-top"},mt={class:"container"},bt=t("img",{src:Y,alt:"logo"},null,-1),yt={class:"d-none d-lg-block justify-content-end",id:"navbarNavAltMarkup"},kt={class:"navbar-nav"},wt={class:"dropdown me-2"},Ct={class:"nav-item nav-link navBarLink position-relative p-2",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},xt=t("i",{class:"bi bi-heart"},null,-1),$t={key:0,class:"badge rounded-pill bg-danger position-absolute top-0 start-100 translate-middle"},Lt=t("h6",{class:"dropdown-header"},"收藏清單",-1),Bt={class:"d-flex flex-column justify-content-center align-items-center"},Pt={key:0,class:"table"},Nt=["src","alt"],Ft={class:"p-2"},Rt={class:"d-flex flex-column"},St={class:"text-nowrap mb-1"},Ot={class:"text-nowrap mb-1"},Vt={class:"p-2"},jt=["onClick"],zt=t("i",{class:"bi bi-bag-plus"},null,-1),Mt=[zt],qt={class:"p-2"},Dt=["onClick"],It=t("i",{class:"bi bi-trash3"},null,-1),Tt=[It],Et={class:"d-flex justify-content-center mb-3 w-100"},Ut={class:"row w-100"},At=t("div",{class:"col"},[t("h6",{class:"fw-bold text-cusDarkBrown text-nowrap text-center"}," 還沒有喜歡的商品嗎 ? ")],-1),Ht={class:"col mt-2"},Yt={key:1,class:"col mt-2"},Gt={class:"dropdown"},Jt={class:"nav-item nav-link navBarLink position-relative p-2",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Kt=t("i",{class:"bi bi-bag"},null,-1),Qt={key:0,class:"badge rounded-pill bg-danger position-absolute top-0 start-100 translate-middle"},Wt=t("h6",{class:"dropdown-header"},"購物車",-1),Xt={class:"d-flex flex-column justify-content-center align-items-center"},Zt={key:0,class:"table"},te=["src","alt"],ee={class:"p-2"},se={class:"d-flex flex-column"},oe={class:"text-nowrap mb-1"},ae={class:"text-nowrap mb-1"},ne=["onUpdate:modelValue","onChange"],le=["value"],ce=["value"],ie={class:"text-nowrap p-2"},de={class:"p-2"},re=["onClick"],ue=t("i",{class:"bi bi-trash3"},null,-1),_e=[ue],he={class:"d-flex justify-content-center mb-3 w-100"},pe={class:"row w-100"},ve={key:0,class:"col"},fe=t("h6",{class:"fw-bold text-darkBrown text-center text-nowrap"}," 您的購物車目前是空的喔 ",-1),ge=[fe],me=t("div",{class:"col-6"},[t("h5",{class:"h5 text-cusDarkBrown fw-bold text-nowrap"}," 小計 ")],-1),be={class:"col-6"},ye={class:"h5 text-cusDarkBrown fw-bold text-nowrap text-end"},ke={class:"col mt-2"},we={class:"d-flex flex-row justify-content-between d-block d-lg-none align-items-center"},Ce={class:"position-relative navBarLink pe-3 me-4"},xe=t("i",{class:"bi bi-heart"},null,-1),$e={key:0,class:"badge rounded-pill bg-danger position-absolute top-50 start-100 translate-middle"},Le={class:"position-relative navBarLink pe-3 me-4"},Be=t("i",{class:"bi bi-bag"},null,-1),Pe={key:0,class:"badge rounded-pill bg-danger position-absolute top-50 start-100 translate-middle"},Ne=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight"},[t("span",{class:"navbar-toggler-icon"})],-1);function Fe(e,r,x,$,g,i){var N,F,R,S,O,V,j,z,M,q,D,I,T;const n=v("RouterLink"),d=v("NavOffcanvas"),L=v("VueLoading");return o(),a(p,null,[t("nav",gt,[t("div",mt,[l(n,{class:"navbar-brand",to:"/"},{default:u(()=>[bt]),_:1}),t("div",yt,[t("div",kt,[l(n,{class:"nav-item nav-link me-4 navBarLink fw-bold",to:"/articles"},{default:u(()=>[_("最新消息")]),_:1}),l(n,{class:"nav-item nav-link me-4 navBarLink fw-bold",to:"/products"},{default:u(()=>[_("美味菜單")]),_:1}),t("div",wt,[t("div",Ct,[xt,((N=e.filterProducts)==null?void 0:N.length)>0?(o(),a("span",$t,c((F=e.filterProducts)==null?void 0:F.length),1)):m("",!0)]),t("div",{class:f(["dropdown-menu dropdown-menu-end overflow-auto m-0",{collectionHeight:((R=e.filterProducts)==null?void 0:R.length)>=4}]),style:{"min-width":"220px"}},[Lt,t("div",Bt,[e.filterProducts?(o(),a("table",Pt,[(o(!0),a(p,null,b(e.filterProducts,s=>(o(),a("tr",{class:"border",key:s.id,style:{width:"300px"}},[t("td",null,[t("img",{src:s.imageUrl,alt:s.title,class:"object-fit-cover",height:"70",width:"70"},null,8,Nt)]),t("td",Ft,[t("div",Rt,[t("div",St,[l(n,{to:`/product/${s.id}`,class:"text-decoration-none text-cusDarkBrown",onClick:y(()=>e.getProduct(s.id),["prevent"])},{default:u(()=>[_(c(s.title),1)]),_:2},1032,["to","onClick"])]),t("div",Ot," NT$ "+c(s.price)+" / "+c(s.unit),1)])]),t("td",Vt,[t("div",{type:"button",class:"navBarLink",onClick:y(()=>e.addToCart(s.id),["prevent"])},Mt,8,jt)]),t("td",qt,[t("div",{type:"button",class:"navBarLink",onClick:y(()=>e.updateCollection(s),["prevent"])},Tt,8,Dt)])]))),128))])):m("",!0),t("div",Et,[t("div",Ut,[((S=e.filterProducts)==null?void 0:S.length)===0?(o(),a(p,{key:0},[At,t("div",Ht,[l(n,{type:"button",class:"btn btn-primary text-white w-100",to:"/products"},{default:u(()=>[_(" 購物去 ")]),_:1})])],64)):(o(),a("div",Yt,[l(n,{type:"button",class:"btn btn-primary text-white w-100",to:"/collection"},{default:u(()=>[_(" 收藏清單 ")]),_:1})]))])])])],2)]),t("div",Gt,[t("div",Jt,[Kt,((O=e.cart.carts)==null?void 0:O.length)>0?(o(),a("span",Qt,c((V=e.cart.carts)==null?void 0:V.length),1)):m("",!0)]),t("div",{class:f(["dropdown-menu dropdown-menu-end overflow-auto m-0",{cartHeight:((j=e.cart.carts)==null?void 0:j.length)>=4}]),style:{"min-width":"200px"}},[Wt,t("div",Xt,[e.cart.carts?(o(),a("table",Zt,[(o(!0),a(p,null,b(e.cart.carts,s=>(o(),a("tr",{class:"border",key:s.id,style:{width:"300px"}},[t("td",null,[t("img",{src:s.product.imageUrl,alt:s.product.title,class:"object-fit-cover",height:"70",width:"70"},null,8,te)]),t("td",ee,[t("div",se,[t("div",oe,[l(n,{to:`/product/${s.product.id}`,class:"text-decoration-none text-cusDarkBrown",onClick:y(()=>e.getProduct(s.product.id),["prevent"])},{default:u(()=>[_(c(s.product.title),1)]),_:2},1032,["to","onClick"])]),t("div",ae," NT$ "+c(s.product.price)+" / "+c(s.product.unit),1),J(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":h=>s.qty=h,onChange:()=>e.updateCartItem(s,s.qty)},[s.qty<=20?(o(),a(p,{key:0},b(20,h=>t("option",{value:h,key:h+"num"},c(h),9,le)),64)):(o(!0),a(p,{key:1},b(s.qty+1,h=>(o(),a("option",{value:h,key:h+"num"},c(h),9,ce))),128))],40,ne),[[K,s.qty]])])]),t("td",ie,"NT$ "+c(s.total),1),t("td",de,[t("div",{type:"button",class:"navBarLink",onClick:y(()=>e.deleteCartItem(s),["prevent"])},_e,8,re)])]))),128))])):m("",!0),t("div",he,[t("div",pe,[((z=e.cart.carts)==null?void 0:z.length)==0?(o(),a("div",ve,ge)):(o(),a(p,{key:1},[me,t("div",be,[t("h5",ye," NT$ "+c(e.cart.total),1)])],64)),t("div",ke,[((M=e.cart.carts)==null?void 0:M.length)!==0?(o(),E(n,{key:0,type:"button",class:"btn btn-primary text-white w-100",to:"/cart"},{default:u(()=>[_(" 結帳去 ")]),_:1})):(o(),E(n,{key:1,type:"button",class:"btn btn-primary text-white w-100",to:"/products"},{default:u(()=>[_(" 購物去 ")]),_:1}))])])])])],2)])])]),t("div",we,[t("div",Ce,[xe,l(n,{class:"stretched-link",to:"/collection"}),((q=e.filterProducts)==null?void 0:q.length)>0?(o(),a("span",$e,c((D=e.filterProducts)==null?void 0:D.length),1)):m("",!0)]),t("div",Le,[Be,l(n,{class:"stretched-link",to:"/cart"}),((I=e.cart.carts)==null?void 0:I.length)>0?(o(),a("span",Pe,c((T=e.cart.carts)==null?void 0:T.length),1)):m("",!0)]),Ne])])]),l(d),l(L,{active:e.isLoading,"onUpdate:active":r[0]||(r[0]=s=>e.isLoading=s),loader:"dots"},null,8,["active"])],64)}const Re=C(ft,[["render",Fe]]),Se="/vue3_pizza/assets/logo2-8c9a8bf9.png";const Oe={components:{RouterLink:P}},Ve={class:"footer py-5 py-md-2"},je={class:"container"},ze=H('<div class="row d-flex justify-content-between border-bottom border-cusBrown"><div class="col-md-6 text-center text-md-start p-0"><img src="'+Se+'" class="float-center" alt="logo"></div><div class="col-md-6 p-0"><div class="text-white text-center text-md-end py-3"><h5 class="text-primary">聯絡資訊</h5><p><a href="mailto:YoPizza@mail.com" class="text-decoration-none linkStyle">YoPizza@mail.com</a></p><p><a href="tel:+886-2-3123-5678。" class="text-decoration-none linkStyle">03-123-5678</a></p><p>桃園市隔壁區小陶路123號</p></div></div></div>',1),Me={class:"row justify-content-between align-items-center flex-column flex-md-row"},qe={class:"col text-center text-md-start p-0"},De={class:"py-3"},Ie=H('<div class="col order-md-2 order-3"><p class="text-white text-center m-0"> 此專題僅供作品展示，非商業用途使用 </p></div><div class="col order-2 p-0"><div class="text-white text-center text-md-end mb-1"><a href="#" class="linkStyle"><i class="bi bi-facebook ms-3"></i></a><a href="#" class="linkStyle"><i class="bi bi-instagram ms-3"></i></a><a href="https://github.com/tttom3669/vue3_pizza" target="_blank" class="linkStyle"><i class="bi bi-github ms-3"></i></a></div></div>',2);function Te(e,r,x,$,g,i){const n=v("RouterLink");return o(),a("footer",Ve,[t("div",je,[ze,t("div",Me,[t("div",qe,[t("div",De,[l(n,{class:"btn btn-sm btn-opacity text-white",type:"button",to:"/question"},{default:u(()=>[_("常見問題")]),_:1})])]),Ie])])])}const Ee=C(Oe,[["render",Te]]),Ue={components:{FrontNavbar:Re,FrontFooter:Ee,RouterView:Q}},Ae={class:"d-flex flex-column min-vh-100"},He={class:"flex-grow-1",style:{"min-height":"600px"}};function Ye(e,r,x,$,g,i){const n=v("FrontNavbar"),d=v("RouterView"),L=v("FrontFooter");return o(),a("div",Ae,[l(n),t("div",He,[l(d)]),l(L)])}const Xe=C(Ue,[["render",Ye]]);export{Xe as default};
