import{_ as P,m as p,a as u,r as m,o as d,c as r,b as t,d as a,w as _,t as o,h as n,g as b,f as c,F as C}from"./index-bbf47dbb.js";import{p as g}from"./productsStore-c5151155.js";import{c as f,l as k}from"./cartStore-ce1406cb.js";import{s as T}from"./swalMessage-cdcc8a09.js";import{S}from"./SwiperTopFlavors-53c7fb08.js";import"./collectionStore-a46cddbc.js";import"./ProductCard-9e440d2b.js";const B={data(){return{qty:1,productId:""}},components:{SwiperTopFlavors:S},props:["id"],computed:{...p(f,["cart"]),...p(k,["isLoading","loadingItem"]),...p(g,["tempProduct"])},methods:{...u(T,["swalShow"]),...u(f,["addToCart","updateCartItem"]),...u(g,["getProduct","changeCategory"]),addToCart_Check(){let s=[];s=this.cart.carts.filter(e=>e.product_id===this.tempProduct.id),s[0]===this.tempProduct.id?this.updateCartItem(s[0],this.qty):this.addToCart(this.tempProduct.id,this.qty)}},mounted(){this.getProduct(this.id)}},I={class:"bg_texture3"},q={class:"container"},V={"aria-label":"breadcrumb"},N={class:"breadcrumb"},F={class:"breadcrumb-item"},L={class:"breadcrumb-item"},x={class:"breadcrumb-item","aria-current":"page"},D={class:"row mt-5"},j={class:"col-lg-4"},M=["src","alt"],U={class:"col-lg-8"},z={class:"d-flex flex-row align-items-baseline"},A={class:"fw-bold"},E={class:"text-cusBrown ms-3"},G={class:"badge bg-primary rounded-pill mb-3",style:{"font-size":"14px"}},H={class:"fw-bold text-cusDarkBrown"},J={class:"text-cusBrown"},K=t("div",{class:"h6 fw-bold"},"建議售價：",-1),O={key:0,class:"h5"},Q={key:1,class:"d-flex flex-row align-items-baseline mb-2"},R={class:"h5 text-cusBrown fw-bold me-2"},W={class:"h6 me-2 text-cusGray"},X={class:"w-100 w-md-50"},Y={class:"input-group mb-3"},Z=["disabled"],$=t("i",{class:"bi bi-dash"},null,-1),tt=[$],st=["value"],et=["disabled"],ot=t("i",{class:"bi bi-plus"},null,-1),it=[ot],dt={class:"row flex-row gy-3"},rt={class:"col-6"},at=["disabled"],nt={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},ct={class:"col-6"},lt=["disabled"],pt={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},ut=t("div",{class:"d-flex flex-column align-items-start justify-content-center mt-3"},[t("h3",{class:"fw-bold mt-1 border-3 border-start border-primary"},[t("span",{class:"text-cusDarkBrown ms-3"},"精選商品")])],-1);function mt(s,e,_t,ht,i,h){const l=m("router-link"),w=m("SwiperTopFlavors"),y=m("VueLoading");return d(),r(C,null,[t("div",I,[t("div",q,[t("nav",V,[t("ol",N,[t("li",F,[a(l,{to:"/",class:"text-decoration-none"},{default:_(()=>[c("首頁")]),_:1})]),t("li",L,[a(l,{to:"/products",onClick:e[0]||(e[0]=()=>s.changeCategory(`${s.tempProduct.productCategory}`)),class:"text-decoration-none"},{default:_(()=>[c(o(s.tempProduct.productCategory),1)]),_:1})]),t("li",x,o(s.tempProduct.title),1)])]),t("div",D,[t("div",j,[t("img",{src:s.tempProduct.imageUrl,alt:s.tempProduct.title,class:"w-100 object-fit-cover img-fluid"},null,8,M)]),t("div",U,[t("div",z,[t("h3",A,o(s.tempProduct.title),1),t("h4",E,o(s.tempProduct.enTitle),1)]),t("span",G,o(s.tempProduct.category),1),t("p",H,o(s.tempProduct.content),1),t("p",J,o(s.tempProduct.description),1),K,s.tempProduct.price===s.tempProduct.origin_price?(d(),r("div",O,o(s.tempProduct.price)+" 元 ",1)):(d(),r("div",Q,[t("div",R," NT$"+o(s.tempProduct.price),1),t("del",W,"NT$"+o(s.tempProduct.origin_price),1)])),t("div",X,[t("div",Y,[t("button",{type:"button",class:"input-group-text",id:"basic-addon1",disabled:i.qty===1,onClick:e[1]||(e[1]=n(()=>i.qty-=1,["prevent"]))},tt,8,Z),t("input",{type:"text",class:"form-control text-center",readonly:"",value:i.qty},null,8,st),t("button",{type:"button",class:"input-group-text",id:"basic-addon2",disabled:i.qty===99,onClick:e[2]||(e[2]=n(()=>i.qty+=1,["prevent"]))},it,8,et)]),t("div",dt,[t("div",rt,[t("button",{type:"button",class:"btn btn-cusDarkBrown text-white w-100",onClick:e[3]||(e[3]=n(()=>h.addToCart_Check(),["prevent"])),disabled:s.loadingItem===s.tempProduct.id},[s.loadingItem===s.tempProduct.id?(d(),r("span",nt)):b("",!0),c(" 加入購物車 ")],8,at)]),t("div",ct,[t("button",{type:"button",class:"btn btn-primary w-100 text-white",onClick:e[4]||(e[4]=n(()=>h.addToCart_Check(),["prevent"])),disabled:s.loadingItem===s.tempProduct.id},[a(l,{class:"text-decoration-none text-white",to:"/cart"},{default:_(()=>[s.loadingItem===s.tempProduct.id?(d(),r("span",pt)):b("",!0),c(" 立刻購買 ")]),_:1})],8,lt)])])])])]),ut,a(w,{category:"全部商品"})])]),a(y,{active:s.isLoading,"onUpdate:active":e[5]||(e[5]=v=>s.isLoading=v),loader:"dots"},null,8,["active"])],64)}const Ct=P(B,[["render",mt]]);export{Ct as default};
