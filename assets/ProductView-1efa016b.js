import{_ as P,m as p,a as u,r as m,o as i,c as r,b as t,d as a,w as _,t as s,h as c,g as b,f as n,F as C}from"./index-edab9d34.js";import{p as g}from"./collectionStore-4bedace7.js";import{c as f,l as k}from"./cartStore-b1225af4.js";import{s as T}from"./swalMessage-4e4cdec7.js";import{S}from"./SwiperTopFlavors-0689ed98.js";import"./sweetalert2.all-b47eb5a7.js";const I={data(){return{qty:1,productId:""}},components:{SwiperTopFlavors:S},props:["id"],computed:{...p(f,["cart"]),...p(k,["isLoading","loadingItem"]),...p(g,["tempProduct"])},methods:{...u(T,["swalShow"]),...u(f,["addToCart","updateCartItem"]),...u(g,["getProduct","changeCategory"]),addToCart_Check(){let o=[];o=this.cart.carts.filter(e=>e.product_id===this.tempProduct.id),o[0]===this.tempProduct.id?this.updateCartItem(o[0],this.qty):this.addToCart(this.tempProduct.id,this.qty)}},mounted(){this.getProduct(this.id)}},q={class:"bg_texture2"},B={class:"container"},V={"aria-label":"breadcrumb"},N={class:"breadcrumb"},F={class:"breadcrumb-item"},L={class:"breadcrumb-item"},x={class:"breadcrumb-item","aria-current":"page"},D={class:"row mt-5"},j={class:"col-lg-4"},M=["src","alt"],U={class:"col-lg-8"},z={class:"fw-bold"},A={class:"badge bg-primary rounded-pill mb-3",style:{"font-size":"14px"}},E={class:"fw-bold text-cusDarkBrown"},G={class:"text-cusBrown"},H=t("div",{class:"h6 fw-bold"},"建議售價：",-1),J={key:0,class:"h5"},K={key:1,class:"d-flex flex-row align-items-center mb-2"},O={class:"h5 text-cusBrown fw-bold me-2"},Q={class:"h6 me-2 text-cusGray"},R={class:"w-50"},W={class:"input-group mb-3"},X=["disabled"],Y=t("i",{class:"bi bi-dash"},null,-1),Z=[Y],$=["value"],tt=["disabled"],ot=t("i",{class:"bi bi-plus"},null,-1),et=[ot],st={class:"row flex-column flex-sm-row gy-3"},dt={class:"col-md-6"},it=["disabled"],rt={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},at={class:"col-md-6"},nt=["disabled"],ct={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},lt=t("div",{class:"d-flex flex-column align-items-start justify-content-center mt-3"},[t("h3",{class:"fw-bold mt-1 border-3 border-start border-primary"},[t("span",{class:"text-primary me-3"}),n("精選商品 ")])],-1);function pt(o,e,ut,mt,d,h){const l=m("router-link"),y=m("SwiperTopFlavors"),v=m("VueLoading");return i(),r(C,null,[t("div",q,[t("div",B,[t("nav",V,[t("ol",N,[t("li",F,[a(l,{to:"/",class:"text-decoration-none"},{default:_(()=>[n("首頁")]),_:1})]),t("li",L,[a(l,{to:"/products",onClick:e[0]||(e[0]=()=>o.changeCategory(`${o.tempProduct.productCategory}`)),class:"text-decoration-none"},{default:_(()=>[n(s(o.tempProduct.productCategory),1)]),_:1})]),t("li",x,s(o.tempProduct.title),1)])]),t("div",D,[t("div",j,[t("img",{src:o.tempProduct.imageUrl,alt:o.tempProduct.title,class:"w-100 object-fit-cover img-fluid"},null,8,M)]),t("div",U,[t("h3",z,s(o.tempProduct.title),1),t("span",A,s(o.tempProduct.category),1),t("p",E,s(o.tempProduct.content),1),t("p",G,s(o.tempProduct.description),1),H,o.tempProduct.price===o.tempProduct.origin_price?(i(),r("div",J,s(o.tempProduct.price)+" 元 ",1)):(i(),r("div",K,[t("div",O," NT$"+s(o.tempProduct.price),1),t("del",Q,"NT$"+s(o.tempProduct.origin_price),1)])),t("div",R,[t("div",W,[t("button",{type:"button",class:"input-group-text",id:"basic-addon1",disabled:d.qty===1,onClick:e[1]||(e[1]=c(()=>d.qty-=1,["prevent"]))},Z,8,X),t("input",{type:"text",class:"form-control text-center",readonly:"",value:d.qty},null,8,$),t("button",{type:"button",class:"input-group-text",id:"basic-addon2",disabled:d.qty===99,onClick:e[2]||(e[2]=c(()=>d.qty+=1,["prevent"]))},et,8,tt)]),t("div",st,[t("div",dt,[t("button",{type:"button",class:"btn btn-cusDarkBrown text-white w-100",onClick:e[3]||(e[3]=c(()=>h.addToCart_Check(),["prevent"])),disabled:o.loadingItem===o.tempProduct.id},[o.loadingItem===o.tempProduct.id?(i(),r("span",rt)):b("",!0),n(" 加入購物車 ")],8,it)]),t("div",at,[t("button",{type:"button",class:"btn btn-primary w-100 text-white",onClick:e[4]||(e[4]=c(()=>h.addToCart_Check(),["prevent"])),disabled:o.loadingItem===o.tempProduct.id},[a(l,{class:"text-decoration-none text-white",to:"/cart"},{default:_(()=>[o.loadingItem===o.tempProduct.id?(i(),r("span",ct)):b("",!0),n(" 立刻購買 ")]),_:1})],8,nt)])])])])]),lt,a(y,{category:"全部商品"})])]),a(v,{active:o.isLoading,"onUpdate:active":e[5]||(e[5]=w=>o.isLoading=w),loader:"dots"},null,8,["active"])],64)}const vt=P(I,[["render",pt]]);export{vt as default};
