import{_ as x,m,a as C,r as g,o,c as n,b as t,F as y,e as k,g as u,h as r,f as v,t as a,d,w as c}from"./index-edab9d34.js";import{c as f,l as I}from"./cartStore-b1225af4.js";import"./swalMessage-4e4cdec7.js";import"./sweetalert2.all-b47eb5a7.js";const V={data(){return{}},computed:{...m(f,["cart"]),...m(I,["isLoading","loadingItem"])},methods:{...C(f,["getCart","updateCartItem","deleteCartItem","deleteCart"])},mounted(){this.getCart()}},$={class:"bg_texture2",style:{"min-height":"600px"}},L={class:"container"},q=t("div",{class:"row d-flex justify-content-center mt-3"},[t("div",{class:"col-12 col-md-6"},[t("div",{class:"col"},[t("div",{class:"position-relative m-4"},[t("div",{class:"progress",style:{height:"1px"}},[t("div",{class:"progress-bar",role:"progressbar",style:{width:"50%"},"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"})]),t("div",{class:"position-absolute top-0 start-0 text-white translate-middle btn btn-sm btn-primary rounded-pill",style:{width:"2rem",height:"2rem"}}," 1 "),t("div",{class:"position-absolute top-0 start-50 text-white translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem"}}," 2 "),t("div",{class:"position-absolute top-0 start-100 text-white translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem"}}," 3 ")])]),t("div",{class:"col d-flex justify-content-between text-primary fw-bold"},[t("span",{class:"ms-n1"},"確認購買"),t("span",{class:"text-secondary"},"填寫資料"),t("span",{class:"text-secondary me-n1"},"完成訂單")])])],-1),B={class:"mt-4 mb-5 table-responsive-sm"},j={class:"table align-middle bg-white"},N=t("thead",{class:"table-primary"},[t("tr",null,[t("th"),t("th",{colspan:"2",class:"text-center"},"商品明細"),t("th",{style:{width:"150px"}},"數量/單位"),t("th",{class:"text-center"},"小計")])],-1),S=["onClick","disabled"],D=t("i",{class:"fas fa-spinner fa-pulse"},null,-1),F=t("i",{class:"bi bi-trash3"},null,-1),U=[D,F],A=["src"],E={class:"d-flex flex-column text-nowrap"},M={class:"input-group input-group-sm"},T={class:"input-group input-group-sm flex-nowrap"},z=["disabled","onClick"],G=t("i",{class:"bi bi-dash"},null,-1),H=[G],J=["value"],K=["disabled","onClick"],O=t("i",{class:"bi bi-plus"},null,-1),P=[O],Q={class:"text-end"},R={colspan:"2"},W=["disabled"],X={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Y=t("td",{colspan:"2",class:"text-end"},"總計",-1),Z={class:"text-end"},tt={class:"row flex-column justify-content-end flex-sm-row gy-3 mb-3"},et={class:"col-md-2"},st=t("button",{type:"button",class:"btn btn-cusDarkBrown text-white w-100"}," 返回購物 ",-1),ot={key:0,class:"col-md-2"},nt=t("button",{type:"button",class:"btn btn btn-primary w-100 text-white"}," 確認送出 ",-1);function at(s,l,dt,lt,it,rt){var p,h,b,_;const i=g("router-link"),w=g("VueLoading");return o(),n(y,null,[t("div",$,[t("div",L,[q,t("div",B,[t("table",j,[N,t("tbody",null,[s.cart.carts?(o(!0),n(y,{key:0},k(s.cart.carts,e=>(o(),n("tr",{key:e.id},[t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:r(ct=>s.deleteCartItem(e),["prevent"]),disabled:s.loadingItem===e.id},U,8,S)]),t("td",null,[d(i,{to:`/product/${e.product.id}`},{default:c(()=>[t("img",{src:e.product.imageUrl,alt:"",class:"object-fit-cover",height:"70",width:"70"},null,8,A)]),_:2},1032,["to"])]),t("td",null,[t("div",E,[d(i,{to:`/product/${e.product.id}`,class:"text-decoration-none text-cusDarkBrown text"},{default:c(()=>[v(a(e.product.title),1)]),_:2},1032,["to"]),t("div",null,a(e.product.price)+" / "+a(e.product.unit),1)])]),t("td",null,[t("div",M,[t("div",T,[t("button",{type:"button",class:"input-group-text",id:"basic-addon1",disabled:e.qty===1||s.loadingItem===e.id,onClick:r(()=>s.updateCartItem(e,e.qty-1),["prevent"])},H,8,z),t("input",{type:"text",class:"form-control text-center",value:e.qty,readonly:""},null,8,J),t("button",{type:"button",class:"input-group-text",id:"basic-addon2",disabled:e.qty===99||s.loadingItem===e.id,onClick:r(()=>s.updateCartItem(e,e.qty+1),["prevent"])},P,8,K)])])]),t("td",Q,a(e.total),1)]))),128)):u("",!0)]),t("tfoot",null,[t("tr",null,[t("td",R,[t("button",{class:"btn btn-outline-danger",type:"button",onClick:l[0]||(l[0]=r(()=>s.deleteCart(),["prevent"])),disabled:s.loadingItem==="deleteCart"||((h=(p=s.cart)==null?void 0:p.carts)==null?void 0:h.length)===0},[s.loadingItem==="deleteCart"?(o(),n("span",X)):u("",!0),v(" 清空購物車 ")],8,W)]),Y,t("td",Z,a(s.cart.total),1)])])])]),t("div",tt,[t("div",et,[d(i,{class:"text-decoration-none text-white",to:"/products"},{default:c(()=>[st]),_:1})]),(_=(b=s.cart)==null?void 0:b.carts)!=null&&_.length?(o(),n("div",ot,[d(i,{class:"text-decoration-none text-white",to:"/order"},{default:c(()=>[nt]),_:1})])):u("",!0)])])]),d(w,{active:s.isLoading,"onUpdate:active":l[1]||(l[1]=e=>s.isLoading=e),loader:"dots"},null,8,["active"])],64)}const _t=x(V,[["render",at]]);export{_t as default};
