import{_ as P,d as p,m as u,r as m,o as r,c as d,a as t,b as a,w as _,t as s,g as c,h,e as n,F as C}from"./index-2ca285bd.js";import{p as g}from"./collectionStore-d056931e.js";import{c as y,l as k}from"./cartStore-102a87c4.js";import{s as T}from"./swalMessage-b356d383.js";import{S}from"./SwiperTopFlavors-df0f73fc.js";import"./sweetalert2.all-b14fc833.js";const I={data(){return{qty:1,productId:""}},components:{SwiperTopFlavors:S},props:["id"],computed:{...p(y,["cart"]),...p(k,["isLoading","loadingItem"]),...p(g,["tempProduct"])},methods:{...u(T,["swalShow"]),...u(y,["addToCart","updateCartItem"]),...u(g,["getProduct","changeCategory"]),addToCart_Check(){let o=[];o=this.cart.carts.filter(e=>e.product_id===this.tempProduct.id),o[0]===this.tempProduct.id?this.updateCartItem(o[0],this.qty):this.addToCart(this.tempProduct.id,this.qty)}},mounted(){this.getProduct(this.id)}},q={class:"bg_texture2"},B={class:"container"},V={"aria-label":"breadcrumb"},N={class:"breadcrumb"},F={class:"breadcrumb-item"},L={class:"breadcrumb-item"},x={class:"breadcrumb-item","aria-current":"page"},D={class:"row mt-5 gx-5"},j={class:"col-lg-4"},M=["src","alt"],U={class:"col-lg-8 mb-"},z={class:"fw-bold"},A={class:"badge bg-primary rounded-pill mb-3",style:{"font-size":"14px"}},E={class:"fw-bold text-cusDarkBrown"},G={class:"text-cusBrown"},H=t("div",{class:"h6 fw-bold"},"建議售價：",-1),J={key:0,class:"h5"},K={key:1,class:"d-flex flex-row align-items-center mb-2"},O={class:"h5 text-cusBrown fw-bold me-2"},Q={class:"h6 me-2 text-cusGray"},R={class:"w-50"},W={class:"input-group mb-3"},X=["disabled"],Y=t("i",{class:"bi bi-dash"},null,-1),Z=[Y],$=["value"],tt=["disabled"],ot=t("i",{class:"bi bi-plus"},null,-1),et=[ot],st={class:"row row-cols-2 flex-column flex-sm-row gy-3"},it={class:"col"},rt=["disabled"],dt={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},at={class:"col"},nt=["disabled"],ct={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},lt=t("div",{class:"d-flex flex-column align-items-start justify-content-center mt-3"},[t("h3",{class:"fw-bold mt-1 border-3 border-start border-primary"},[t("span",{class:"text-primary me-3"}),n("精選商品 ")])],-1);function pt(o,e,ut,mt,i,b){const l=m("router-link"),f=m("SwiperTopFlavors"),w=m("VueLoading");return r(),d(C,null,[t("div",q,[t("div",B,[t("nav",V,[t("ol",N,[t("li",F,[a(l,{to:"/",class:"text-decoration-none"},{default:_(()=>[n("首頁")]),_:1})]),t("li",L,[a(l,{to:"/products",onClick:e[0]||(e[0]=()=>o.changeCategory(`${o.tempProduct.productCategory}`)),class:"text-decoration-none"},{default:_(()=>[n(s(o.tempProduct.productCategory),1)]),_:1})]),t("li",x,s(o.tempProduct.title),1)])]),t("div",D,[t("div",j,[t("img",{src:o.tempProduct.imageUrl,alt:o.tempProduct.title,class:"w-100 object-fit-cover img-fluid"},null,8,M)]),t("div",U,[t("h3",z,s(o.tempProduct.title),1),t("span",A,s(o.tempProduct.category),1),t("p",E,s(o.tempProduct.content),1),t("p",G,s(o.tempProduct.description),1),H,o.tempProduct.price===o.tempProduct.origin_price?(r(),d("div",J,s(o.tempProduct.price)+" 元 ",1)):(r(),d("div",K,[t("div",O," NT$"+s(o.tempProduct.price),1),t("del",Q,"NT$"+s(o.tempProduct.origin_price),1)])),t("div",R,[t("div",W,[t("button",{type:"button",class:"input-group-text",id:"basic-addon1",disabled:i.qty===1,onClick:e[1]||(e[1]=c(()=>i.qty-=1,["prevent"]))},Z,8,X),t("input",{type:"text",class:"form-control text-center",readonly:"",value:i.qty},null,8,$),t("button",{type:"button",class:"input-group-text",id:"basic-addon2",disabled:i.qty===99,onClick:e[2]||(e[2]=c(()=>i.qty+=1,["prevent"]))},et,8,tt)]),t("div",st,[t("div",it,[t("button",{type:"button",class:"btn btn-cusDarkBrown text-white w-100",onClick:e[3]||(e[3]=c(()=>b.addToCart_Check(),["prevent"])),disabled:o.loadingItem===o.tempProduct.id},[o.loadingItem===o.tempProduct.id?(r(),d("span",dt)):h("",!0),n(" 加入購物車 ")],8,rt)]),t("div",at,[t("button",{type:"button",class:"btn btn-primary w-100 text-white",onClick:e[4]||(e[4]=c(()=>b.addToCart_Check(),["prevent"])),disabled:o.loadingItem===o.tempProduct.id},[a(l,{class:"text-decoration-none text-white",to:"/cart"},{default:_(()=>[o.loadingItem===o.tempProduct.id?(r(),d("span",ct)):h("",!0),n(" 立刻購買 ")]),_:1})],8,nt)])])])])]),lt,a(f,{category:"全部商品"})])]),a(w,{active:o.isLoading,"onUpdate:active":e[5]||(e[5]=v=>o.isLoading=v),loader:"dots"},null,8,["active"])],64)}const wt=P(I,[["render",pt]]);export{wt as default};
