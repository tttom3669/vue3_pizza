import{_ as k,m as c,a,r as l,o as s,c as i,b as t,d as r,F as _,e as w,G as S,g as u,w as f,t as d,n as P,f as x}from"./index-edab9d34.js";import{p,c as b}from"./collectionStore-4bedace7.js";import{l as L,c as $}from"./cartStore-b1225af4.js";import{C as N}from"./CategorySidebar-8765aa13.js";import{s as T}from"./swalMessage-4e4cdec7.js";import{S as V}from"./SharedPagination-cf5f7d13.js";import"./sweetalert2.all-b47eb5a7.js";const B={data(){return{tempProduct:{}}},components:{CategorySidebar:N,SharedPagination:V},computed:{...c(p,["filterProducts","page","filterCategory"]),...c(b,["collectionList","collection"]),...c(L,["isLoading","loadingItem"])},methods:{...a(T,["swalShow"]),...a(b,["updateCollection","getCollection"]),...a(p,["getProducts"]),...a($,["addToCart"])},mounted(){this.getProducts(),this.getCollection()}},D={class:"bg_texture2",style:{"min-height":"600px"}},I={class:"container"},j={class:"row d-flex flex-row my-5"},M={class:"col-md-2 d-lg-block d-none"},z={class:"col-md-10"},F={class:"row d-flex justify-content-center"},G={class:"card h-100 py-2 shadow-sm overflow-hidden boxTranslate"},O=["src"],U={class:"card-body"},A={class:"card-title fw-bold"},E={key:0,class:"h5 card-text text-primary fw-bold mb-3"},q={key:1,class:"d-flex flex-row justify-content-center align-items-baseline mb-3"},H={class:"h5 card-text text-primary fw-bold me-2"},J={class:"h6 card-text me-2 text-cusGray"},K={class:"d-flex flex-row justify-content-center align-items-center"},Q=["onClick"],R=["onMouseover"],W=["onClick"],X=t("i",{class:"bi bi-suit-heart-fill",style:{color:"red"}},null,-1),Y=[X],Z=["onClick","disabled"],ee={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function oe(o,n,te,se,ie,ne){const v=l("CategorySidebar"),m=l("router-link"),y=l("SharedPagination"),C=l("VueLoading");return s(),i(_,null,[t("div",D,[t("div",I,[t("div",j,[t("div",M,[r(v)]),t("div",z,[t("div",F,[(s(!0),i(_,null,w(o.filterProducts,e=>{var h,g;return s(),i("div",{class:"col-md-4 mb-2 text-center",key:e.id},[t("div",G,[r(m,{to:`/product/${e.id}`},{default:f(()=>[t("img",{src:e.imageUrl,class:"card-img-top w-75 mx-auto object-fit-cover",alt:"pizza",height:"200"},null,8,O)]),_:2},1032,["to"]),t("div",U,[r(m,{to:`/product/${e.id}`,class:"text-decoration-none text-cusDarkBrown"},{default:f(()=>[t("h5",A,d(e.title),1)]),_:2},1032,["to"]),e.price===e.origin_price?(s(),i("p",E," NT $"+d(e.price),1)):(s(),i("div",q,[t("div",H," NT$"+d(e.price),1),t("del",J,"NT$"+d(e.origin_price),1)])),t("div",K,[((h=o.collectionList)==null?void 0:h.indexOf(e.id))===-1?(s(),i("div",{key:0,class:"me-4",onClick:()=>o.updateCollection(e)},[t("i",{class:P(["bi collection",{"bi-heart":((g=o.collectionList)==null?void 0:g.indexOf(e.id))===-1,"bi-suit-heart-fill":o.collection.hover==!0&&o.collection.itemID==e.id}]),onMouseover:()=>(o.collection.hover=!0,o.collection.itemID=e.id),onMouseout:n[0]||(n[0]=()=>(o.collection.hover=!1,o.collection.itemID=""))},null,42,R)],8,Q)):(s(),i("div",{key:1,class:"me-4",onClick:()=>o.updateCollection(e)},Y,8,W)),t("button",{type:"button",class:"btn btn-cusDarkBrown border-0 text-nowrap px-3 px-md-4",onClick:()=>o.addToCart(e.id),disabled:o.loadingItem===e.id},[o.loadingItem===e.id?(s(),i("span",ee)):u("",!0),x(" 加入購物車 ")],8,Z)])])])])}),128))])])])])]),o.filterCategory==="全部商品"?(s(),S(y,{key:0,pages:o.page,onChangePage:o.getProducts},null,8,["pages","onChangePage"])):u("",!0),r(C,{active:o.isLoading,"onUpdate:active":n[1]||(n[1]=e=>o.isLoading=e),loader:"dots"},null,8,["active"])],64)}const ge=k(B,[["render",oe]]);export{ge as default};
