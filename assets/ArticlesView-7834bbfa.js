import{F as f}from"./FrontHeading-a5c75b63.js";import{_ as v,R as w,a as P,r as i,o as c,c as r,b as t,d as n,F as _,e as L,t as d,w as x,f as A}from"./index-6d45ff7a.js";import{S as V}from"./SharedPagination-e464d1ce.js";import{s as b}from"./swalMessage-4aea2b24.js";const{VITE_APP_URL:y,VITE_APP_PATH:E}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/V2",VITE_APP_PATH:"tttom3669",BASE_URL:"/vue3_pizza/",MODE:"production",DEV:!1,PROD:!0},R={data(){return{articles:[],isLoading:!1,page:{}}},components:{FrontHeading:f,RouterLink:w,SharedPagination:V},methods:{...P(b,["swalShow"]),getArticles(l=1){this.isLoading=!0;const o=`${y}/api/${E}/articles/?page=${l}`;this.$http.get(o).then(e=>{this.articles=e.data.articles,this.page=e.data.pagination,this.isLoading=!1}).catch(e=>{this.swalShow(`${e.response.data.message}`,"error"),this.isLoading=!1})}},mounted(){this.getArticles()}},S={class:"bg_texture3",style:{"min-height":"600px"}},k={class:"container"},T={class:"row row-cols-1 row-cols-md-2 g-4 mt-2"},B={class:"card h-100"},F={class:"row g-0"},D={class:"col-md-5"},H=["src","alt"],U={class:"col-md-7"},$={class:"card-body pb-0"},C={class:"card-title text-cusDarkBrown fw-bold"},I={class:"text-cusBrown",style:{"min-height":"60px"}},z={class:"badge bg-primary rounded-pill mb-3",style:{"font-size":"14px"}},N={class:"card-footer"};function M(l,o,e,O,a,g){const h=i("FrontHeading"),p=i("RouterLink"),m=i("SharedPagination"),u=i("VueLoading");return c(),r(_,null,[t("div",S,[t("div",k,[n(h,{title:"最新消息",class:"mt-3"}),t("div",T,[(c(!0),r(_,null,L(a.articles,s=>(c(),r("div",{key:s.id,class:"col"},[t("div",B,[t("div",F,[t("div",D,[t("img",{src:s.imageUrl,alt:s.title,class:"card-img-top h-100 w-100 object-fit-cover"},null,8,H)]),t("div",U,[t("div",$,[t("h5",C,d(s.title),1),t("div",I,d(s.description),1),t("div",z,d(s.tag[0]),1)]),t("div",N,[n(p,{to:`/article/${s.id}`,class:"btn btn-outline-primary"},{default:x(()=>[A(" 文章頁面 ")]),_:2},1032,["to"])])])])])]))),128))])])]),n(m,{pages:a.page,onChangePage:g.getArticles},null,8,["pages","onChangePage"]),n(u,{active:a.isLoading,"onUpdate:active":o[0]||(o[0]=s=>a.isLoading=s),loader:"dots"},null,8,["active"])],64)}const K=v(R,[["render",M]]);export{K as default};
