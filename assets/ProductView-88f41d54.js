import{_ as P,R as C,m as p,a as u,r as m,o as d,c as r,b as t,d as a,w as _,t as o,h as n,g as b,f as c,F as k}from"./index-2811925f.js";import{p as g}from"./productsStore-eecc0596.js";import{c as f,l as T}from"./cartStore-5e63958d.js";import{s as S}from"./swalMessage-5f2e5e08.js";import{S as B}from"./SwiperTopFlavors-60029b9b.js";import"./ProductCard-a0b5f25e.js";import"./collectionStore-190842b8.js";const I={data(){return{qty:1,productId:""}},components:{SwiperTopFlavors:B,RouterLink:C},props:["id"],computed:{...p(f,["cart"]),...p(T,["isLoading","loadingItem"]),...p(g,["tempProduct"])},methods:{...u(S,["swalShow"]),...u(f,["addToCart","updateCartItem"]),...u(g,["getProduct","changeCategory"]),addToCart_Check(){let s=[];s=this.cart.carts.filter(e=>e.product_id===this.tempProduct.id),s[0]===this.tempProduct.id?this.updateCartItem(s[0],this.qty):this.addToCart(this.tempProduct.id,this.qty)}},mounted(){this.getProduct(this.id)}},q={class:"bg_texture3"},L={class:"container"},V={"aria-label":"breadcrumb"},N={class:"breadcrumb"},F={class:"breadcrumb-item"},x={class:"breadcrumb-item"},D={class:"breadcrumb-item","aria-current":"page"},R={class:"row mt-5"},j={class:"col-lg-4"},M=["src","alt"],U={class:"col-lg-8"},z={class:"d-flex flex-row align-items-baseline"},A={class:"fw-bold"},E={class:"text-cusBrown ms-3"},G={class:"badge bg-primary rounded-pill mb-3",style:{"font-size":"14px"}},H={class:"fw-bold text-cusDarkBrown"},J={class:"text-cusBrown"},K=t("div",{class:"h6 fw-bold"},"建議售價：",-1),O={key:0,class:"h5"},Q={key:1,class:"d-flex flex-row align-items-baseline mb-2"},W={class:"h5 text-cusBrown fw-bold me-2"},X={class:"h6 me-2 text-cusGray"},Y={class:"w-100 w-md-50"},Z={class:"input-group mb-3"},$=["disabled"],tt=t("i",{class:"bi bi-dash"},null,-1),st=[tt],et=["value"],ot=["disabled"],it=t("i",{class:"bi bi-plus"},null,-1),dt=[it],rt={class:"row flex-row gy-3"},at={class:"col-6"},nt=["disabled"],ct={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},lt={class:"col-6"},pt=["disabled"],ut={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},mt=t("div",{class:"d-flex flex-column align-items-start justify-content-center mt-3"},[t("h3",{class:"fw-bold mt-1 border-3 border-start border-primary"},[t("span",{class:"text-cusDarkBrown ms-3"},"精選商品")])],-1);function _t(s,e,ht,bt,i,h){const l=m("RouterLink"),w=m("SwiperTopFlavors"),y=m("VueLoading");return d(),r(k,null,[t("div",q,[t("div",L,[t("nav",V,[t("ol",N,[t("li",F,[a(l,{to:"/",class:"text-decoration-none"},{default:_(()=>[c("首頁")]),_:1})]),t("li",x,[a(l,{to:"/products",onClick:e[0]||(e[0]=()=>s.changeCategory(`${s.tempProduct.productCategory}`)),class:"text-decoration-none"},{default:_(()=>[c(o(s.tempProduct.productCategory),1)]),_:1})]),t("li",D,o(s.tempProduct.title),1)])]),t("div",R,[t("div",j,[t("img",{src:s.tempProduct.imageUrl,alt:s.tempProduct.title,class:"w-100 object-fit-cover img-fluid"},null,8,M)]),t("div",U,[t("div",z,[t("h3",A,o(s.tempProduct.title),1),t("h4",E,o(s.tempProduct.enTitle),1)]),t("span",G,o(s.tempProduct.category),1),t("p",H,o(s.tempProduct.content),1),t("p",J,o(s.tempProduct.description),1),K,s.tempProduct.price===s.tempProduct.origin_price?(d(),r("div",O,o(s.tempProduct.price)+" 元 ",1)):(d(),r("div",Q,[t("div",W," NT$"+o(s.tempProduct.price),1),t("del",X,"NT$"+o(s.tempProduct.origin_price),1)])),t("div",Y,[t("div",Z,[t("button",{type:"button",class:"input-group-text",id:"basic-addon1",disabled:i.qty===1,onClick:e[1]||(e[1]=n(()=>i.qty-=1,["prevent"]))},st,8,$),t("input",{type:"text",class:"form-control text-center",readonly:"",value:i.qty},null,8,et),t("button",{type:"button",class:"input-group-text",id:"basic-addon2",disabled:i.qty===99,onClick:e[2]||(e[2]=n(()=>i.qty+=1,["prevent"]))},dt,8,ot)]),t("div",rt,[t("div",at,[t("button",{type:"button",class:"btn btn-cusDarkBrown text-white w-100",onClick:e[3]||(e[3]=n(()=>h.addToCart_Check(),["prevent"])),disabled:s.loadingItem===s.tempProduct.id},[s.loadingItem===s.tempProduct.id?(d(),r("span",ct)):b("",!0),c(" 加入購物車 ")],8,nt)]),t("div",lt,[t("button",{type:"button",class:"btn btn-primary w-100 text-white",onClick:e[4]||(e[4]=n(()=>h.addToCart_Check(),["prevent"])),disabled:s.loadingItem===s.tempProduct.id},[a(l,{class:"text-decoration-none text-white",to:"/cart"},{default:_(()=>[s.loadingItem===s.tempProduct.id?(d(),r("span",ut)):b("",!0),c(" 立刻購買 ")]),_:1})],8,pt)])])])])]),mt,a(w,{category:"全部商品"})])]),a(y,{active:s.isLoading,"onUpdate:active":e[5]||(e[5]=v=>s.isLoading=v),loader:"dots"},null,8,["active"])],64)}const kt=P(I,[["render",_t]]);export{kt as default};
